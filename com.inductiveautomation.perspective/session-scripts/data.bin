{"onBarcodeDataReceived":"\t","onBluetoothReceived":"\t","onAccelerometerDataReceived":"\t","onNdefDataReceived":"\t","messageHandlers":[{"name":"userCreated","enabled":true,"script":"\tlogger = system.util.getLogger(\"myLogger\")\n\t\n\tmessage = payload['message']\n\t\n\t# Define the tag path\n\ttagPath = \"[default]docType\"\n\t\n\t# Read the current value\n\tcurrentValue = system.tag.read(tagPath).value[\"userArray\"]\n\t\n\t# edge case--> current value is null?\n\tif currentValue is None:\n\t\tcurrentValue = []\n\t\n\tjsonDecode = system.util.jsonDecode(str(currentValue))\n\t\n\t# converting json into a list\n\tlistOfUsers = list(jsonDecode)\n\t\n\t# manipulating the dictionary\n\tlistOfUsers.append(message)\n\t\n#\t# json encoding it back to a string\n#\tjsonValueToWrite = system.util.jsonEncode(listOfUsers)\n#\t\n\t# Final parcel to write\n\tparcel = {\"userArray\": listOfUsers}\n\tfinalUserArray= system.util.jsonEncode(parcel)\n\t\n\t# Write the updated list back to the tag\n\tsystem.tag.write(tagPath, finalUserArray)\n\t\n\t# Log the message\n#\tlogger.info(\"This is finalUserArray: \" + str(finalUserArray) + \", type: \" + str(type(finalUserArray)))\n#\tlogger.info(\"This is parcel: \" + str(parcel) + \", type: \" + str(type(parcel)))\n#\tlogger.info(\"This is listOfUsers: \" + str(listOfUsers) + \", type: \" + str(type(listOfUsers)))\n#\tlogger.info(\"This is jsonDecode: \" + str(jsonDecode) + \", type: \" + str(type(jsonDecode)))\n#\tlogger.info(\"This is currentValue: \" + str(currentValue) + \", type: \" + str(type(currentValue)))\n#\tlogger.info(\"This is message: \" + str(message) + \", type: \" + str(type(message)))\n#\t\n\n"}]}